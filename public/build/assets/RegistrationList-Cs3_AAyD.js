import{r,j as e,H as C,L as u,a as j}from"./app-BtF519Xp.js";import{A as D,S as R}from"./app-layout-CsA_ofcI.js";import{A as S}from"./arrow-left-BYA33Tap.js";import{F as I}from"./filter-BwT-LpJ5.js";import{U as f}from"./users-wzvUwBme.js";import{U as b}from"./user-check-BFSXCBZP.js";import{C as A}from"./x-C8gvmjLS.js";import{M as L}from"./map-pin-B324Yecf.js";import{M as F,P as E}from"./phone-zpZs65ic.js";import{E as T}from"./eye-BheVQW-i.js";import{U}from"./user-x-CXat5jXJ.js";/* empty css            */import"./button-DZCbpUGI.js";import"./index-Dzrbm8kf.js";import"./index-B2NiHxzL.js";import"./index-kV6dSLvt.js";import"./index-j2f3bk-U.js";const M=[{title:"Dashboard",href:"/dashboard"},{title:"Reports",href:"/admin/reports"},{title:"Registration List",href:"/admin/reports/registration-list"}];function se({registrations:t,filters:a,events:N}){const[l,x]=r.useState(a.event_id||""),[n,o]=r.useState(a.status||"all"),[d,m]=r.useState(a.date_from||""),[i,h]=r.useState(a.date_to||""),y=()=>{const s={};l&&(s.event_id=l),n!=="all"&&(s.status=n),d&&(s.date_from=d),i&&(s.date_to=i),j.get("/admin/reports/registration-list",s,{preserveState:!0})},v=()=>{x(""),o("all"),m(""),h(""),j.get("/admin/reports/registration-list",{},{preserveState:!0})},w=s=>s.check_in?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full font-medium",children:[e.jsx(b,{className:"w-3 h-3"}),"Checked In"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full font-medium",children:[e.jsx(U,{className:"w-3 h-3"}),"Not Checked In"]}),k=s=>new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),p=s=>new Date(s).toLocaleString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),c=t.length,g=t.filter(s=>s.check_in).length,_=c>0?Math.round(g/c*100):0;return e.jsxs(D,{breadcrumbs:M,children:[e.jsx(C,{title:"Registration List Report - Festival Tahuri Admin"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4 sm:p-6 overflow-x-auto",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{href:"/admin/reports",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(S,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-500 bg-clip-text text-transparent",children:"Registration List Report"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Detailed participant registration data"})]})]})}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border border-orange-100 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Report Filters"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event"}),e.jsxs("select",{value:l,onChange:s=>x(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"",children:"All Events"}),N.map(s=>e.jsxs("option",{value:s.id,children:[s.title," (",s.event_code,")"]},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:n,onChange:s=>o(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"checked_in",children:"Checked In"}),e.jsx("option",{value:"not_checked_in",children:"Not Checked In"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),e.jsx("input",{type:"date",value:d,onChange:s=>m(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsx("input",{type:"date",value:i,onChange:s=>h(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{onClick:y,className:"px-6 py-2 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4"}),"Apply Filters"]}),e.jsx("button",{onClick:v,className:"px-6 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium rounded-lg transition-colors",children:"Clear All"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-700 font-medium text-sm",children:"Total Registrations"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:c})]}),e.jsx(f,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-700 font-medium text-sm",children:"Checked In"}),e.jsx("p",{className:"text-3xl font-bold text-green-900",children:g})]}),e.jsx(R,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-700 font-medium text-sm",children:"Attendance Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:[_,"%"]})]}),e.jsx(b,{className:"w-8 h-8 text-purple-500"})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border border-orange-100 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Registration Details (",t.length," records)"]})}),t.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-red-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold text-gray-900",children:"Participant"}),e.jsx("th",{className:"hidden md:table-cell px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Event"}),e.jsx("th",{className:"hidden lg:table-cell px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Contact"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold text-gray-900",children:"Registration"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold text-gray-900",children:"Status"}),e.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold text-gray-900",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(s=>e.jsxs("tr",{className:"hover:bg-orange-50/30 transition-colors",children:[e.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm sm:text-base",children:s.participant_name}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:["NIK: ",s.nik]}),e.jsx("p",{className:"text-xs text-orange-600 font-medium",children:s.ticket_number}),e.jsxs("div",{className:"md:hidden mt-1 space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:s.event.title}),e.jsxs("div",{className:"lg:hidden",children:[e.jsx("p",{className:"text-xs text-gray-500",children:s.email}),e.jsx("p",{className:"text-xs text-gray-500",children:s.phone})]})]})]})}),e.jsx("td",{className:"hidden md:table-cell px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.event.title}),e.jsx("p",{className:"text-sm text-orange-600",children:s.event.event_code}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[e.jsx(A,{className:"w-3 h-3"}),k(s.event.date)]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(L,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate max-w-[120px]",children:s.event.location})]})]})}),e.jsx("td",{className:"hidden lg:table-cell px-6 py-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate max-w-[160px]",children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(E,{className:"w-4 h-4"}),s.phone]})]})}),e.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:p(s.created_at)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Registered"})]})}),e.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{children:[w(s),s.check_in&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p(s.check_in.created_at)})]})}),e.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4",children:e.jsx(u,{href:`/admin/registrations/${s.id}`,className:"p-2 text-orange-600 hover:text-orange-700 hover:bg-orange-50 rounded-lg transition-colors inline-flex items-center",title:"View Details",children:e.jsx(T,{className:"w-4 h-4"})})})]},s.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(f,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No registrations found"}),e.jsx("p",{className:"text-gray-500",children:"No registrations match your current filters."})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Report Information"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Data Included"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[e.jsx("li",{children:"• Participant name and NIK"}),e.jsx("li",{children:"• Contact information (email, phone)"}),e.jsx("li",{children:"• Event details and ticket numbers"}),e.jsx("li",{children:"• Registration and check-in timestamps"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Report Details"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("li",{children:["• Generated on: ",new Date().toLocaleString("id-ID")]}),e.jsxs("li",{children:["• Total records: ",t.length]}),e.jsx("li",{children:"• Data source: Real-time database"})]})]})]})]})]})]})}export{se as default};
