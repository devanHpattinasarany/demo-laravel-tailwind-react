import{j as e,H as h,L as i,r as p,a as c}from"./app-OPFSGCFz.js";import{A as g,S as u}from"./app-layout-C5umDw0L.js";import{C as k}from"./x-NBKWkpyn.js";import{M as w}from"./map-pin-BgVe6Vzn.js";import{A as _}from"./arrow-left-DqyxUOkE.js";import{U as x}from"./users-Cve87iuQ.js";import{C as j}from"./clock-P9Mqygi7.js";import{S}from"./search-CwcNsjF_.js";import{M as C,P as T}from"./phone-D8wXhxFi.js";import{E as $}from"./eye-e2kAMaMb.js";import{T as D}from"./trash-2-DyYqLPcP.js";/* empty css            */import"./button-D7JQ3lVn.js";import"./index-B2m0uNfb.js";import"./index-CgT1Evp8.js";import"./index-B3MnTYJW.js";import"./index-4WsfkVGj.js";function O({seminar:t,registrations:a,statistics:r,filters:l}){if(!t)return e.jsxs(g,{breadcrumbs:[],children:[e.jsx(h,{title:"Error - Festival Tahuri Admin"}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Talkshow tidak ditemukan"}),e.jsx(i,{href:"/admin/seminars",className:"text-orange-600 hover:text-orange-700",children:"Kembali ke Daftar Talkshow"})]})})]});const[m,f]=p.useState(l.search||""),[n,b]=p.useState(l.status||""),N=[{title:"Dashboard",href:"/dashboard"},{title:"Talkshow Management",href:"/admin/seminars"},{title:t.title,href:`/admin/seminars/${t.id}`},{title:"Peserta",href:`/admin/seminars/${t.id}/registrations`}],y=s=>{s.preventDefault(),c.get(`/admin/seminars/${t.id}/registrations`,{search:m,status:n},{preserveState:!0,replace:!0})},o=s=>{b(s),c.get(`/admin/seminars/${t.id}/registrations`,{search:m,status:s},{preserveState:!0,replace:!0})},v=s=>{confirm("Apakah Anda yakin ingin menghapus registrasi ini?")&&c.delete(`/admin/registrations/${s}`,{onSuccess:()=>{c.reload()},onError:d=>{alert("Gagal menghapus registrasi: "+(d.message||"Terjadi kesalahan"))}})};return e.jsxs(g,{breadcrumbs:N,children:[e.jsx(h,{title:`Peserta ${t.title} - Festival Tahuri Admin`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6 overflow-x-auto",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-500 bg-clip-text text-transparent",children:["Peserta ",t.title]}),e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm rounded-md font-medium",children:t.event_code})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"w-4 h-4"}),new Date(t.date).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),t.time&&` â€¢ ${t.time} WIT`]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4"}),t.location]})]})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(i,{href:`/admin/seminars/${t.id}`,className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"Kembali ke Detail"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-700 font-medium text-sm",children:"Total Registrasi"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r.total_registrations}),e.jsxs("p",{className:"text-blue-600 text-sm",children:["dari ",t.max_capacity," slot"]})]}),e.jsx(x,{className:"w-8 h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-700 font-medium text-sm",children:"Sudah Check-in"}),e.jsx("p",{className:"text-3xl font-bold text-green-900",children:r.checked_in}),e.jsxs("p",{className:"text-green-600 text-sm",children:[r.attendance_rate,"% hadir"]})]}),e.jsx(u,{className:"w-8 h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-700 font-medium text-sm",children:"Belum Check-in"}),e.jsx("p",{className:"text-3xl font-bold text-orange-900",children:r.not_checked_in}),e.jsx("p",{className:"text-orange-600 text-sm",children:"menunggu"})]}),e.jsx(j,{className:"w-8 h-8 text-orange-500"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-700 font-medium text-sm",children:"Slot Tersisa"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:t.available_slots}),e.jsx("p",{className:"text-purple-600 text-sm",children:"kapasitas"})]}),e.jsx(x,{className:"w-8 h-8 text-purple-500"})]})})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm border border-orange-100 rounded-xl p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("form",{onSubmit:y,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Cari berdasarkan nama, email, NIK, atau nomor tiket...",value:m,onChange:s=>f(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>o(""),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===""?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Semua"}),e.jsx("button",{onClick:()=>o("checked_in"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="checked_in"?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Sudah Check-in"}),e.jsx("button",{onClick:()=>o("not_checked_in"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="not_checked_in"?"bg-orange-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Belum Check-in"})]})]})}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border border-orange-100 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5 text-orange-500"}),"Daftar Peserta (",a.total,")"]})}),a.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-500",children:"Peserta"}),e.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-500",children:"Kontak"}),e.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-500",children:"Tiket"}),e.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-500",children:"Status Check-in"}),e.jsx("th",{className:"text-left py-4 px-6 text-sm font-medium text-gray-500",children:"Tanggal Daftar"}),e.jsx("th",{className:"text-center py-4 px-6 text-sm font-medium text-gray-500",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:a.data.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.full_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["NIK: ",s.nik]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(C,{className:"w-3 h-3"}),s.email]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(T,{className:"w-3 h-3"}),s.phone]})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm rounded-md font-mono",children:s.ticket_number})}),e.jsx("td",{className:"py-4 px-6",children:s.is_checked_in?e.jsxs("div",{children:[e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700",children:[e.jsx(u,{className:"w-3 h-3"}),"Sudah Check-in"]}),s.check_in_time&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(s.check_in_time).toLocaleString("id-ID")})]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-orange-100 text-orange-700",children:[e.jsx(j,{className:"w-3 h-3"}),"Belum Check-in"]})}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:new Date(s.created_at).toLocaleString("id-ID")}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(i,{href:`/admin/registrations/${s.id}`,className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Lihat Detail",children:e.jsx($,{className:"w-4 h-4"})}),!s.is_checked_in&&e.jsx("button",{onClick:()=>v(s.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Hapus Registrasi",children:e.jsx(D,{className:"w-4 h-4"})})]})})]},s.id))})]})}),a.last_page>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Menampilkan ",(a.current_page-1)*a.per_page+1," sampai"," ",Math.min(a.current_page*a.per_page,a.total)," dari"," ",a.total," data"]}),e.jsx("div",{className:"flex gap-1",children:a.links.map((s,d)=>s.url===null?e.jsx("span",{className:"px-3 py-2 text-gray-400 cursor-not-allowed",dangerouslySetInnerHTML:{__html:s.label}},`disabled-${s.label}-${d}`):e.jsx(i,{href:s.url,className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s.active?"bg-orange-500 text-white":"text-gray-700 hover:bg-gray-100"}`,dangerouslySetInnerHTML:{__html:s.label}},`link-${s.url}-${s.label}-${d}`))})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(x,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Belum Ada Peserta"}),e.jsx("p",{className:"text-gray-500",children:l.search||l.status?"Tidak ada peserta yang sesuai dengan filter yang dipilih.":"Belum ada peserta yang mendaftar untuk event ini."})]})]})]})]})}export{O as default};
