import{r as j,j as e,H as _,L as k}from"./app-CTGiVwpw.js";import{A,S as C}from"./app-layout-BiEeNA0T.js";import{c as v}from"./button-De8n1ESR.js";import{T as m}from"./trending-up-D0YPlMOA.js";import{C as u}from"./x-BAM8M9CO.js";import{A as b}from"./arrow-down-BXopDKbx.js";import{U as N}from"./users-C83QYUSW.js";import{C as $}from"./chart-column-Qt3NxNUN.js";import{E as T}from"./eye-BJPGTd13.js";/* empty css            */import"./index-DyJ80ckA.js";import"./index-ByIX-6f6.js";import"./index-E0gf28I4.js";import"./index-CRCYHmDW.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],f=v("ArrowUp",R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],M=v("RefreshCw",L),E=[{title:"Dashboard",href:"/dashboard"},{title:"Analytics",href:"/admin/analytics"}];function J({statistics:i,charts:t}){var p;const[c,g]=j.useState("registrations"),[y,w]=j.useState("30d"),x=()=>{const s=t.recent_registrations.slice(-7),r=t.recent_registrations.slice(-14,-7),a=s.reduce((n,l)=>n+l.count,0)/s.length,d=r.reduce((n,l)=>n+l.count,0)/r.length;return a>d?"up":"down"},o=()=>{const s=t.recent_check_ins.slice(-7),r=t.recent_check_ins.slice(-14,-7),a=s.reduce((n,l)=>n+l.count,0)/s.length,d=r.reduce((n,l)=>n+l.count,0)/r.length;return a>d?"up":"down"},h=({data:s,color:r})=>e.jsx("div",{className:"h-32 bg-gray-50 rounded-lg flex items-end justify-center gap-1 p-4",children:s.slice(-10).map((a,d)=>e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("div",{className:`w-4 ${r} rounded-t`,style:{height:`${Math.max((a.count||0)*2,4)}px`}}),e.jsx("span",{className:"text-xs text-gray-500 rotate-45 origin-bottom-left",children:a.label})]},`chart-item-${d}-${a.date||a.label||Math.random()}`))});return e.jsxs(A,{breadcrumbs:E,children:[e.jsx(_,{title:"Analytics Dashboard - Festival Tahuri Admin"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-4 sm:p-6 overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-orange-600 to-red-500 bg-clip-text text-transparent",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Insight dan analisis data event Festival Tahuri"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:y,onChange:s=>w(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[e.jsx("option",{value:"7d",children:"Last 7 days"}),e.jsx("option",{value:"30d",children:"Last 30 days"}),e.jsx("option",{value:"90d",children:"Last 90 days"}),e.jsx("option",{value:"1y",children:"Last year"})]}),e.jsxs("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 font-medium rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-200 rounded-xl sm:rounded-2xl p-3 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-700 font-medium text-xs sm:text-sm",children:"Total Events"}),e.jsx("p",{className:"text-xl sm:text-3xl font-bold text-blue-900",children:i.total_events}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(m,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{className:"text-xs text-green-600",children:"Active"})]})]}),e.jsx(u,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-500"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-200 rounded-xl sm:rounded-2xl p-3 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-700 font-medium text-xs sm:text-sm",children:"Total Registrasi"}),e.jsx("p",{className:"text-xl sm:text-3xl font-bold text-green-900",children:i.total_registrations}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x()==="up"?e.jsx(f,{className:"w-3 h-3 text-green-600"}):e.jsx(b,{className:"w-3 h-3 text-red-600"}),e.jsxs("span",{className:`text-xs ${x()==="up"?"text-green-600":"text-red-600"}`,children:["Trending ",x()]})]})]}),e.jsx(N,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-500"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-2 border-purple-200 rounded-xl sm:rounded-2xl p-3 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-700 font-medium text-xs sm:text-sm",children:"Total Check-in"}),e.jsx("p",{className:"text-xl sm:text-3xl font-bold text-purple-900",children:i.total_check_ins}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o()==="up"?e.jsx(f,{className:"w-3 h-3 text-green-600"}):e.jsx(b,{className:"w-3 h-3 text-red-600"}),e.jsxs("span",{className:`text-xs ${o()==="up"?"text-green-600":"text-red-600"}`,children:["Trending ",o()]})]})]}),e.jsx(C,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-500"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-2 border-orange-200 rounded-xl sm:rounded-2xl p-3 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-700 font-medium text-xs sm:text-sm",children:"Attendance Rate"}),e.jsxs("p",{className:"text-xl sm:text-3xl font-bold text-orange-900",children:[i.attendance_rate,"%"]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(m,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{className:"text-xs text-green-600",children:"Good"})]})]}),e.jsx($,{className:"w-6 h-6 sm:w-8 sm:h-8 text-orange-500"})]})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border border-orange-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Trends"}),e.jsxs("div",{className:"flex border border-gray-200 rounded-lg",children:[e.jsx("button",{onClick:()=>g("registrations"),className:`px-3 py-1 text-sm font-medium rounded-l-lg transition-colors ${c==="registrations"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-50"}`,children:"Registrations"}),e.jsx("button",{onClick:()=>g("check_ins"),className:`px-3 py-1 text-sm font-medium rounded-r-lg transition-colors ${c==="check_ins"?"bg-orange-500 text-white":"text-gray-600 hover:bg-gray-50"}`,children:"Check-ins"})]})]}),c==="registrations"?e.jsx(h,{data:t.recent_registrations,color:"bg-blue-500"}):e.jsx(h,{data:t.recent_check_ins,color:"bg-green-500"}),e.jsx("p",{className:"text-sm text-gray-600 mt-3",children:c==="registrations"?"Daily registration trends over the last 30 days":"Daily check-in trends over the last 30 days"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border border-orange-100 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Event Performance"}),e.jsxs(k,{href:"/admin/seminars",className:"text-orange-600 hover:text-orange-700 text-sm font-medium flex items-center gap-1",children:[e.jsx(T,{className:"w-4 h-4"}),"View All"]})]}),e.jsx("div",{className:"space-y-3",children:t.event_performance.slice(0,5).map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:s.title}),e.jsxs("p",{className:"text-xs text-gray-600",children:[s.registrations," registrations â€¢ ",s.check_ins," check-ins"]})]}),e.jsxs("div",{className:"text-right ml-3",children:[e.jsxs("p",{className:`text-sm font-medium ${s.attendance_rate>=80?"text-green-600":s.attendance_rate>=60?"text-orange-600":"text-red-600"}`,children:[s.attendance_rate,"%"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"attendance"})]})]},`event-performance-${r}-${s.title}`))})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border border-orange-100 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Overview"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-sm text-gray-600",children:[e.jsx("th",{className:"pb-3",children:"Month"}),e.jsx("th",{className:"pb-3",children:"Registrations"}),e.jsx("th",{className:"pb-3",children:"Check-ins"}),e.jsx("th",{className:"pb-3",children:"Attendance Rate"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.monthly_overview.slice(-6).map((s,r)=>e.jsxs("tr",{className:"text-sm",children:[e.jsx("td",{className:"py-3 font-medium text-gray-900",children:s.month}),e.jsx("td",{className:"py-3 text-gray-600",children:s.registrations}),e.jsx("td",{className:"py-3 text-gray-600",children:s.check_ins}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${s.attendance_rate>=80?"bg-green-100 text-green-700":s.attendance_rate>=60?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:[s.attendance_rate,"%"]})})]},`monthly-${r}-${s.month}`))})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Insights"}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(m,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Best Performing Event"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[((p=t.event_performance[0])==null?void 0:p.title)||"No events yet",t.event_performance[0]&&` (${t.event_performance[0].attendance_rate}% attendance)`]})]}),e.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(u,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Average Attendance"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i.attendance_rate,"% across all events"]})]}),e.jsxs("div",{className:"p-4 bg-white rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(N,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Total Participants"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i.total_registrations," people registered across all events"]})]})]})]})]})]})}export{J as default};
